---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation';
import Footer from '../components/Footer';
import { Content as TaskContent } from '../content/task.md';
---

<Layout title="Task<T> - Functype">
  <Navigation client:load />
  <div class="min-h-screen bg-white pt-16">
    <section class="px-6 py-20 text-center max-w-4xl mx-auto">
      <h1 class="text-5xl md:text-6xl font-bold text-gray-900 mb-6">Task&lt;T&gt;</h1>
      <p class="text-2xl text-gray-600 mb-4">Async operations with cancellation and error handling</p>
      <p class="text-lg text-gray-500 max-w-2xl mx-auto">
        Enhanced async/await with cancellation support, progress tracking, and structured error handling
      </p>
      <div class="flex gap-4 justify-center mt-8">
        <a href="/api-docs/modules/task.html" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
          API Documentation
        </a>
        <a href="https://github.com/jordanburke/functype/blob/main/src/core/task" target="_blank" rel="noopener noreferrer" class="px-6 py-3 bg-white text-blue-600 border-2 border-blue-600 rounded-lg hover:bg-blue-50 transition-colors">
          View Source
        </a>
      </div>
    </section>

    <!-- Content from Markdown -->
    <section class="px-6 py-16">
      <div class="max-w-4xl mx-auto prose prose-lg markdown-content">
        <TaskContent />
      </div>
    </section>

    <Footer client:load />
  </div>
</Layout>

<style>
  .markdown-content :global(h1) { display: none; }
  .markdown-content :global(h2) { font-size: 1.875rem; font-weight: 700; color: #111827; margin-bottom: 1rem; margin-top: 2.5rem; }
  .markdown-content :global(h3) { font-size: 1.25rem; font-weight: 600; color: #1f2937; margin-bottom: 0.75rem; margin-top: 1.5rem; }
  .markdown-content :global(p) { margin-bottom: 1rem; line-height: 1.75; color: #374151; }
  .markdown-content :global(pre) { background-color: #1f2937; border-radius: 0.75rem; padding: 1.5rem; overflow-x: auto; margin: 1.5rem 0; }
  .markdown-content :global(code) { font-size: 0.875rem; font-family: ui-monospace, monospace; }
  .markdown-content :global(pre code) { color: #f3f4f6; }
  .markdown-content :global(:not(pre) > code) { background-color: #f3f4f6; padding: 0.125rem 0.375rem; border-radius: 0.25rem; color: #1f2937; }
  .markdown-content :global(table) { width: 100%; border-collapse: collapse; margin: 1.5rem 0; }
  .markdown-content :global(th), .markdown-content :global(td) { border: 1px solid #d1d5db; padding: 0.75rem 1rem; text-align: left; }
  .markdown-content :global(th) { background-color: #f3f4f6; font-weight: 600; }
  .markdown-content :global(ul), .markdown-content :global(ol) { margin: 1rem 0; padding-left: 1.5rem; }
  .markdown-content :global(li) { margin-bottom: 0.5rem; color: #374151; }
</style>
